<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>container测试</title>
    <link rel="stylesheet" href="container.css">
</head>

<body>
<!-- 顶部导航 -->
<div class="headerpage"></div>
<!--顶部导航 over-->
<hr>

<!--中部主体-->
<div id="app">

    <template>
        <el-tabs v-model="activeName" @tab-click="handleClick">
            <el-tab-pane label="TA的作品" name="first">
                <!--active-blog-->
            </el-tab-pane>
            <el-tab-pane label="TA的点赞" name="second"></el-tab-pane>
            <el-tab-pane label="TA的收藏" name="third"></el-tab-pane>

        </el-tabs>
    </template>

    <el-dropdown>
  <span class="el-dropdown-link">
    个人中心<i class="el-icon-arrow-down el-icon--right"></i>
  </span>
        <el-dropdown-menu slot="dropdown">
            <el-dropdown-item>我的主页</el-dropdown-item>
            <el-dropdown-item>退出登录</el-dropdown-item>
        </el-dropdown-menu>
    </el-dropdown>


    <!--用于header展示的布局比例-->
    <!--网页宽度像素1920px-->
    <el-container>
        <el-aside width="480px">logo</el-aside>
        <el-aside width="960px" style="background-color: #8c939d">search</el-aside>
        <el-aside width="480px">ui</el-aside>
    </el-container>

    <el-menu :default-active="activeIndex" class="el-menu-demo" mode="horizontal" @select="handleSelect"
             background-color="#545c64"
             text-color="#fff"
             active-text-color="#ffd04b">

        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">商业</a></el-menu-item>
        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">军事</a></el-menu-item>
        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">文学</a></el-menu-item>
        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">科技</a></el-menu-item>
        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">艺术</a></el-menu-item>
        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">体育</a></el-menu-item>
        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">医学</a></el-menu-item>
        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">财经</a></el-menu-item>
        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">情感</a></el-menu-item>
    </el-menu>

    <el-menu :default-active="activeIndex" class="el-menu-demo" mode="horizontal" @select="handleSelect">
        <el-menu-item index="1">处理中心</el-menu-item>
        <el-submenu index="2">
            <template slot="title">我的工作台</template>
            <el-menu-item index="2-1">选项1</el-menu-item>
            <el-menu-item index="2-2">选项2</el-menu-item>
            <el-menu-item index="2-3">选项3</el-menu-item>
            <el-submenu index="2-4">
                <template slot="title">选项4</template>
                <el-menu-item index="2-4-1">选项1</el-menu-item>
                <el-menu-item index="2-4-2">选项2</el-menu-item>
                <el-menu-item index="2-4-3">选项3</el-menu-item>
            </el-submenu>
        </el-submenu>
        <el-menu-item index="3" disabled>消息中心</el-menu-item>
        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">订单管理</a></el-menu-item>
    </el-menu>
    <div class="line"></div>
    <el-menu
            :default-active="activeIndex2"
            class="el-menu-demo"
            mode="horizontal"
            @select="handleSelect"
            background-color="#545c64"
            text-color="#fff"
            active-text-color="#ffd04b">
        <el-menu-item index="1">处理中心</el-menu-item>
        <el-submenu index="2">
            <template slot="title">我的工作台</template>
            <el-menu-item index="2-1">选项1</el-menu-item>
            <el-menu-item index="2-2">选项2</el-menu-item>
            <el-menu-item index="2-3">选项3</el-menu-item>
            <el-submenu index="2-4">
                <template slot="title">选项4</template>
                <el-menu-item index="2-4-1">选项1</el-menu-item>
                <el-menu-item index="2-4-2">选项2</el-menu-item>
                <el-menu-item index="2-4-3">选项3</el-menu-item>
            </el-submenu>
        </el-submenu>
        <el-menu-item index="3" disabled>消息中心</el-menu-item>
        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">订单管理</a></el-menu-item>
    </el-menu>


    <el-container>
        <el-header>Header</el-header>
        <el-main>Main</el-main>
    </el-container>

    <el-container>
        <el-header>Header</el-header>
        <el-main>Main</el-main>
        <el-footer>Footer</el-footer>
    </el-container>

    <el-container>
        <el-aside width="200px">Aside</el-aside>
        <el-main>Main</el-main>
    </el-container>

    <el-container>
        <el-header>Header</el-header>
        <el-container>
            <el-aside width="200px">Aside</el-aside>
            <el-main>Main</el-main>
        </el-container>
    </el-container>

    <el-container>
        <el-header>Header</el-header>
        <el-container>
            <el-aside width="200px">Aside</el-aside>
            <el-container>
                <el-main>Main</el-main>
                <el-footer>Footer</el-footer>
            </el-container>
        </el-container>
    </el-container>

    <el-container>
        <el-aside width="200px">Aside</el-aside>
        <el-container>
            <el-header>Header</el-header>
            <el-main>Main</el-main>
        </el-container>
    </el-container>

    <el-container>
        <el-aside width="200px">Aside</el-aside>
        <el-container>
            <el-header>Header</el-header>
            <el-main>Main</el-main>
            <el-footer>Footer</el-footer>
        </el-container>
    </el-container>
</div>
<!--中部主体 over-->

<!--footer-->
<div class="footerpage"></div>
<!--footer over-->
<script src="../../js/jquery-3.4.1.min.js"></script>
<script>
    $(function () {
        /*公共部分
        * 导航栏
        * footer CopyRight
        */
        // $(".headerpage").load("load/header.html");/*浏览器容易引起跨域问题*/
        $(".headerpage").load("http://localhost:8080/templates/page/main/header.html");
        $(".footerpage").load("http://localhost:8080/templates/page/main/footer.html");
    });
</script>

<!-- 开发环境版本，包含了有帮助的命令行警告 -->
<!-- 引入组件库 -->
<script src="../../plugins/vue/vue.js"></script>
<script src="../../plugins/element-ui/index.js"></script>
<!--
<link rel="stylesheet" href="../../plugins/element-ui/lib/theme-chalk/index.css">
-->

<!-- 引入axios -->
<script src="../../plugins/axios/axios.min.js"></script>
<script src="../../js/request.js"></script>
<script src="../../api/blog.js"></script>
<script>
    new Vue({
        el: '#app',
        data() {
            return {
                action: '',
                counts: 0,
                page: 1,
                pageSize: 10,
                tableData: [],
                input: '',
                blogId: 0
            }
        },
        computed: {},
        created() {
            this.init()
        },
        mounted() {
        },
        methods: {
            async init() {
                // 页面加载完成之后发送异步请求来查询博客数据
                var _this = this;
                axios({
                    method: "get",
                    url: "http://localhost:8080/blogs/getByAuthorId",
                }).then(function (resp) {
                    _this.tableData = resp.data.data;
                    console.log(this.blogId)
                })
                /*await getBlogPage({'page': this.page, 'pageSize': this.pageSize}).then(res => {
                    if (String(res.code) === '1') {
                        // this.tableData = res.data.records
                        this.counts = Number(res.data.total)
                    } else {
                        this.$message.error(res.msg || '操作失败')
                    }
                }).catch(err => {
                    this.$message.error('请求出错了：' + err)
                })*/
            },
            handleQuery() {
                this.page = 1;
                this.init();
            },
            // 删除
            deleteHandle(blogId) {
                this.$confirm('确认删除该博客, 是否继续?', '确定删除', {
                    'confirmButtonText': '确定',
                    'cancelButtonText': '取消',
                }).then(() => {
                    deleteBlog(blogId).then(res => {
                        if (res.code === 1) {
                            this.$message.success('删除成功！')
                            this.handleQuery()
                        } else {
                            this.$message.error(res.msg || '操作失败')
                        }
                    }).catch(err => {
                        this.$message.error('请求出错了：' + err)
                    })
                })
            },
        }
    })
</script>
</body>
