<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>博客详情页</title>
    <link rel="stylesheet" href="blog-detail.css">
</head>
<body>
<!-- 顶部导航 -->
<div class="headerpage"></div>
<!--顶部导航 over-->
<hr>

<!--中部主体-->

<div class="box">
    <div id="detail-app">
        <el-container>
            <el-main></el-main>
            <el-aside width="1200px" style="overflow: hidden">
                <el-container v-model="blogDto">
                    <el-main style="background-color: #ffffff">
                        <img src="../../images/blog/cover/cover.jpg" width="600"/>
                        <!--封面-->
                    </el-main>
                    <el-header style="background-color: #ffffff;
                                      font-weight: bolder;
                                      font-size: 30px;
                                      ">
                        {{blogDto.blogTitle}}
                        <hr>
                    </el-header>
                    <el-main style="background-color: #ffffff;
                                padding-bottom: 0">
                        <!--作者、创作时间、浏览、点赞、收藏、
                        内容板块-->
                        <el-header style="background-color: #ffffff">
                            <el-tag><i class="el-icon-paperclip"></i>板块：{{blogDto.categoryName}}</el-tag>
                            <el-tag type="warning"><i class="el-icon-user"></i>作者：{{blogDto.authorName}}</el-tag>
                            <el-tag type="info"><i class="el-icon-time"></i>创作时间：{{blogDto.blogCreateTime}}</el-tag>
                        </el-header>

                    </el-main>
                    <el-main
                            style="text-align: left;
                            background-color: #ffffff;
                            overflow: hidden;
                            padding-top: 0;
                            padding-left: 100px;
                            padding-right: 100px;
                            font-size: smaller;
                            word-break: normal;
                            line-height: 30px;
                            min-height: 1000px;
                            white-space: pre-line"
                    >
                        <!--正文部分-->
                        {{blogDto.blogContent}}
                    </el-main>
                </el-container>
            </el-aside>
            <el-main></el-main>
        </el-container>
    </div>
</div>
<!--中部主体 over-->

<!--footer-->
<div class="footerpage"></div>
<!--footer over-->
<script src="../../js/jquery-3.4.1.min.js"></script>
<script>
    $(function () {
        $(".headerpage").load("http://localhost:8080/templates/page/main/header.html");
        $(".footerpage").load("http://localhost:8080/templates/page/main/footer.html");
        $(".blog-list").load("http://localhost:8080/templates/page/blog/active-blog.html");
    });
</script>

<!-- 开发环境版本，包含了有帮助的命令行警告 -->
<!-- 引入组件库 -->

<script src="../../plugins/vue/vue.js"></script>

<script src="../../plugins/element-ui/index.js"></script>
<link rel="stylesheet" href="../../plugins/element-ui/lib/theme-chalk/index.css">
<!-- 引入axios -->
<script src="../../plugins/axios/axios.min.js"></script>
<script src="../../js/request.js"></script>
<script src="../../js/index.js"></script>
<script src="../../api/category.js"></script>
<script>
    var urlParam = requestUrlParam("blogId")
    new Vue({
        var: id = this.urlParam,
        el: '#detail-app',
        data() {
            return {
                blogDto: {
                    blogId: 0,
                    blogTitle: '',
                    blogSubUrl: '',
                    blogCoverImage: '',
                    blogCreateTime: '',
                    blogUpdateTime: '',
                    blogStatus: 0,
                    blogAccess: 0,
                    blogAuthorId: 0,
                    blogCategoryId: undefined,
                    blogContent: '',

                    authorName: '',
                    categoryName: ''
                },
            }
        },
        mounted() {
            // 页面加载完成之后，获取该篇博客的内容
            var _this = this
            axios.get("/blogs/" + id).then((res) => {
                _this.blogDto = res.data.data
            })
        }


    })
</script>
</body>
</html>